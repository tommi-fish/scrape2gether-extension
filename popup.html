<!DOCTYPE html>
<html>
<head>
  <style>
    body { width: 400px; padding: 10px; }
    .input-group { margin-bottom: 10px; }
    .input-group label { display: block; margin-bottom: 5px; }
    .input-group input { width: 100%; padding: 5px; }
    .child-selector { 
      margin-left: 20px;
      padding-left: 10px;
      border-left: 2px solid #ccc;
    }
    .selector-group {
      margin-bottom: 15px;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
    button { margin: 5px; padding: 5px 10px; }
    #jsonOutput { white-space: pre-wrap; }
  </style>
</head>
<body>
  <div id="inputMode">
    <h3>Element Value Collector</h3>

    <div class="selector-group">
      <div class="input-group">
        <label>Group Name:</label>
        <input type="text" id="groupNameInput" placeholder="e.g., Product Item">
      </div>

      <div class="input-group">
        <label>Container Selector:</label>
        <input type="text" id="containerSelectorInput" placeholder="e.g., div.product-card">
      </div>

      <div id="childSelectors">
        <h4>Child Selectors</h4>
        <div class="child-selector">
          <div class="input-group">
            <label>Field Name:</label>
            <input type="text" id="childNameInput" placeholder="e.g., price">
          </div>
          <div class="input-group">
            <label>Selector:</label>
            <input type="text" id="childSelectorInput" placeholder="e.g., .price-value">
          </div>
          <div class="input-group">
            <label>Regex (optional):</label>
            <input type="text" id="childRegexInput" placeholder="e.g., \d+(\.\d{2})?">
          </div>
          <button id="addChildSelector">Add Child Selector</button>
        </div>
      </div>

      <button id="saveGroup">Save Selector Group</button>
    </div>

    <div class="input-group">
      <label>Load Existing Group:</label>
      <select id="selectorGroupDropdown">
        <option value="">Select a group</option>
      </select>
    </div>

    <button id="loadGroup">Load Group</button>
    <button id="viewData">View Data</button>
  </div>

  <div id="jsonOutput" style="display: none;"></div>
</body>
<script src="popup.js"></script>
</html>